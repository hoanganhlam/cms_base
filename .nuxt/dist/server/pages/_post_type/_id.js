exports.ids = [1];
exports.modules = {

/***/ 43:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./pages/_post_type/_id.vue?vue&type=template&id=0c23aeac&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:"main"},[_vm._ssrNode("<div class=\"container\" data-v-0c23aeac>","</div>",[(_vm.isHome || _vm.isTax)?_vm._ssrNode("<div class=\"home\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"notification\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"columns\" style=\"align-items: center;\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"column\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<h4 class=\"is-bold\" data-v-0c23aeac>Subscribe to get daily news</h4> "),_c('b-checkbox',{attrs:{"size":"is-small"}},[_vm._v("I agree to subscribe to the newsletter. See our Privacy\n                            Policy.\n                        ")])],2),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"column\" data-v-0c23aeac>","</div>",[_c('b-field',[_c('b-input',{attrs:{"icon":"email-outline","expanded":"","placeholder":"Your Email"}}),_vm._v(" "),_c('div',{staticClass:"control"},[_c('div',{staticClass:"button is-primary"},[_vm._v("Signup")])])],1)],1)],2)]),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"items\" data-v-0c23aeac>","</div>",_vm._l((_vm.response.results),function(item){return _c('item',{key:item.id,attrs:{"visible-items":['vote', 'meta'],"value":item}})}),1),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"level is-mobile\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"level-left\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"buttons\" data-v-0c23aeac>","</div>",[(_vm.previous)?_c('n-link',{staticClass:"button",attrs:{"to":("?page=" + _vm.previous)}},[_c('b-icon',{attrs:{"icon":"chevron-left"}}),_vm._v(" "),_c('span',[_vm._v("Previous")])],1):_vm._e(),_vm._ssrNode(" "),(_vm.next)?_c('n-link',{staticClass:"button",attrs:{"to":("?page=" + _vm.next)}},[_c('span',[_vm._v("Next")]),_vm._v(" "),_c('b-icon',{attrs:{"icon":"chevron-right"}})],1):_vm._e()],2)]),_vm._ssrNode(" <div class=\"level-right\" data-v-0c23aeac><div class=\"tags has-addons\" data-v-0c23aeac><span class=\"tag is-large\" data-v-0c23aeac>Page</span> <span class=\"tag is-large is-primary\" data-v-0c23aeac>"+_vm._ssrEscape(_vm._s(_vm.query.page))+"</span></div></div>")],2)],2):_vm._e(),_vm._ssrNode(" "),(_vm.isPost)?_vm._ssrNode("<div class=\"post\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"columns\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"column\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"post-content\" data-v-0c23aeac>","</div>",[_c('item',{attrs:{"is-full":"","value":_vm.post,"visible-items":['vote', 'meta', 'description', 'hashtag']}},[_c('div',{staticClass:"card"},[_c('div',{staticClass:"card-content"},[_c('comment-form')],1)]),_vm._v(" "),_c('div',{staticClass:"section"},[_c('h4',{staticClass:"widget-title"},[_c('b-icon',{attrs:{"size":"is-small","icon":"pound"}}),_vm._v(" "),_c('span',[_vm._v("Tags")])],1),_vm._v(" "),_c('div',{staticClass:"tags"},_vm._l((_vm.hashTags),function(tax){return _c('n-link',{key:tax.id,staticClass:"tag",attrs:{"to":"/"}},[_c('span',[_vm._v(_vm._s(tax.term.title))])])}),1)])])],1)]),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"column is-4\" data-v-0c23aeac>","</div>",[(_vm.post['related'])?_vm._ssrNode("<div class=\"section\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<h4 class=\"widget-title\" data-v-0c23aeac>Related</h4> "),_vm._ssrNode("<div class=\"card\" data-v-0c23aeac>","</div>",[_vm._ssrNode("<div class=\"card-content\" data-v-0c23aeac>","</div>",_vm._l((_vm.post['related']),function(p){return _vm._ssrNode("<div class=\"item media\" data-v-0c23aeac>","</div>",[_c('n-link',{attrs:{"to":("/" + (p['post_type']) + "/" + (p.slug))}},[_c('b-icon',{attrs:{"size":"is-small","icon":"plus"}}),_vm._v(" "),_c('span',[_vm._v(_vm._s(p.title.substr(0, 100)))])],1)],1)}),0)])],2):_vm._e()])],2)]):_vm._e()],2)])}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/_post_type/_id.vue?vue&type=template&id=0c23aeac&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/_post_type/_id.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
const parseHostname = function (href) {
  let l = document.createElement("a");
  l.href = href;
  return l;
};

/* harmony default export */ var _idvue_type_script_lang_js_ = ({
  name: "Master",

  data() {
    return {
      response: {
        results: [],
        count: 0
      },
      post: {},
      taxonomy: {},
      query: {
        page_size: 10,
        page: 1,
        type: 'post'
      }
    };
  },

  head() {
    let title = "CMS";

    if (this.publication) {
      if (this.isHome) {
        title = this.publication.title;
      } else if (this.isTax) {} else if (this.isPost && this.post) {
        title = this.post.title;
      }
    }

    return {
      title: title
    };
  },

  computed: {
    isHome() {
      return !Boolean(this.$route.params.post_type && this.$route.params.id);
    },

    isTax() {
      return Boolean(this.$route.params.post_type) && typeof this.$route.params.id === 'undefined';
    },

    isPost() {
      return Boolean(this.$route.params.id);
    },

    totalPage() {
      return this.response.count / (this.query['page_size'] ? this.query['page_size'] : 10);
    },

    next() {
      if (this.query.page < this.totalPage) {
        return this.query.page + 1;
      }

      return 0;
    },

    previous() {
      if (this.query.page > 1) {
        return this.query.page - 1;
      }

      return 0;
    },

    hashTags() {
      return this.post['terms'] ? this.post['terms'].filter(x => x.taxonomy === 'tag') : [];
    },

    publication() {
      return this.$store.state.config.publication;
    }

  },

  async asyncData({
    req,
    res
  }) {
    let hostname = null;

    if (true) {
      hostname = req.headers.host;
    } else {}

    if (hostname.includes('localhost')) {
      hostname = 'pushfact.com';
    }

    return {
      host: hostname
    };
  },

  async fetch() {
    const p = this.$route.params;
    const publication = await this.$axios.$get(`/pub/?host=` + this.host);

    if (publication) {
      const uri = `/pub-${publication.id}`;

      if (publication.options['default_post_type']) {
        this.query.type = publication.options['default_post_type'];
      }

      await this.$store.commit('config/SET_PUBLICATION', publication);
      const q = this.$route.query;
      this.query.page = q.page ? Number.parseInt(q.page) : 1;

      if (p.post_type) {
        this.query.type = p.post_type;
      }

      if (!p.id) {
        this.response = await this.$axios.$get(`${uri}/posts/`, {
          params: this.query
        });
      } else {
        this.post = await this.$axios.$get(`${uri}/posts/${p.id}/`);
      }
    }
  },

  watch: {
    '$route.query': '$fetch'
  }
});
// CONCATENATED MODULE: ./pages/_post_type/_id.vue?vue&type=script&lang=js&
 /* harmony default export */ var _post_type_idvue_type_script_lang_js_ = (_idvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/_post_type/_id.vue



function injectStyles (context) {
  
  
}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  _post_type_idvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "0c23aeac",
  "78d6d657"
  
)

/* harmony default export */ var _id = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=_id.js.map